{"id":"upkeep-rs-0m4","title":"Write README with installation and usage documentation","description":"Create comprehensive README.md:\n\n1. Project header:\n   - Name: cargo-upkeep\n   - Tagline: Unified Rust project maintenance CLI\n   - Badges: CI status, crates.io version, license\n   - Brief value proposition\n\n2. Installation section:\n   - From crates.io: cargo install cargo-upkeep\n   - Using binstall: cargo binstall cargo-upkeep\n   - From script: curl -fsSL .../install.sh | bash\n   - From source: cargo install --path .\n\n3. Usage examples for each command:\n   - cargo upkeep detect\n   - cargo upkeep deps\n   - cargo upkeep audit\n   - cargo upkeep quality\n   - cargo upkeep tree\n\n4. JSON output examples for each command\n\n5. Claude Code skills section:\n   - /upkeep-deps, /upkeep-audit, /upkeep-quality\n   - Link to skill documentation\n\n6. Comparison with existing tools (cargo-audit, cargo-outdated)\n\n7. Contributing section\n\n8. License and credits\n\nReference TS: README.md in upkeep repo\n\nAcceptance: README provides complete getting-started documentation","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:54.342363-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:54.342363-06:00"}
{"id":"upkeep-rs-111","title":"Implement quality scorer with weighted metrics","description":"Create src/lib/scorers/quality.rs following spec metric weights:\n\n1. Define weights per spec:\n   WEIGHT_DEPENDENCY_FRESHNESS: 0.20\n   WEIGHT_SECURITY: 0.25\n   WEIGHT_UNUSED_DEPS: 0.15\n   WEIGHT_UNSAFE_CODE: 0.15\n   WEIGHT_CLIPPY: 0.15\n   WEIGHT_MSRV: 0.10\n\n2. Implement individual metric scorers:\n   a) Dependency Freshness (20%): (up_to_date / total) * 100\n   b) Security (25%): 100 - (critical*25 + high*15 + moderate*5 + low*2)\n   c) Unused Dependencies (15%): MVP returns 100, later cargo-machete\n   d) Unsafe Code (15%): MVP returns 100, later cargo-geiger\n   e) Clippy (15%): max(0, 100 - warnings*2 - errors*10)\n   f) MSRV (10%): 100 if specified and valid, 50 if unspecified, 0 if invalid\n\n3. Calculate weighted total score\n4. Grade assignment: A (90-100), B (80-89), C (70-79), D (60-69), F (\u003c60)\n5. Generate prioritized recommendations\n\nReference TS: src/lib/scorers/quality.ts\n\nAcceptance: Quality scorer calculates accurate weighted scores","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:07:17.628944-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:07:17.628944-06:00"}
{"id":"upkeep-rs-1td","title":"Set up GitHub Actions for CI/CD and multi-platform releases","description":"Create GitHub Actions workflows:\n\n1. CI workflow (.github/workflows/ci.yml):\n   - Trigger on push/PR\n   - Run cargo test --all-features\n   - Run cargo clippy -- -D warnings\n   - Run cargo fmt --check\n\n2. Release workflow (.github/workflows/release.yml):\n   - Trigger on tag push (v*)\n   - Build matrix:\n     - x86_64-unknown-linux-gnu (ubuntu-latest)\n     - aarch64-unknown-linux-gnu (ubuntu-latest + cross)\n     - x86_64-apple-darwin (macos-latest)\n     - aarch64-apple-darwin (macos-latest)\n     - x86_64-pc-windows-msvc (windows-latest)\n   - Use dtolnay/rust-toolchain@stable\n   - Upload artifacts\n   - Create GitHub Release with binaries\n\n3. Generate SHA256 checksums\n\n4. Add binstall metadata to Cargo.toml:\n   [package.metadata.binstall]\n   pkg-url = '{ repo }/releases/download/v{ version }/cargo-upkeep-{ target }'\n\nReference TS: .github/workflows in upkeep repo\n\nAcceptance: Pushing a tag creates release with binaries for all platforms","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:12.934648-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:12.934648-06:00"}
{"id":"upkeep-rs-3rz","title":"Implement detect command - parse Cargo.toml and workspace","description":"Create src/cli/commands/detect.rs to analyze project configuration:\n\n1. Use cargo_metadata to parse Cargo.toml and workspace:\n   let metadata = MetadataCommand::new().manifest_path('./Cargo.toml').exec()?;\n\n2. Extract and report:\n   - Rust edition (2018, 2021, 2024)\n   - rust-version (MSRV) from Cargo.toml\n   - Workspace detection (is this a workspace root?)\n   - Workspace members list\n   - Package name and version\n   - Dependencies count (deps + dev-deps + build-deps)\n   - Features list\n   - Targets (lib, bin, examples, tests, benches)\n\n3. Detect tooling config files:\n   - clippy.toml / .clippy.toml\n   - rustfmt.toml / .rustfmt.toml\n   - deny.toml (cargo-deny)\n   - rust-toolchain.toml\n\n4. Detect CI configuration:\n   - .github/workflows/*.yml\n   - .gitlab-ci.yml, .circleci/config.yml\n\nReference TS: src/cli/commands/detect.ts, src/lib/analyzers/*.ts\n\nAcceptance: cargo run -- detect outputs JSON with project metadata","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:06:21.630026-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:06:21.630026-06:00"}
{"id":"upkeep-rs-469","title":"Implement crates.io version fetcher for dependency analysis","description":"Create src/lib/analyzers/crates_io.rs for fetching latest versions:\n\n1. Use crates-index crate for efficient lookups:\n   let index = Index::new_cargo_default()?;\n   let krate = index.crate_(name)?;\n   let latest = krate.most_recent_version();\n\n2. Alternative: crates.io API via reqwest for detailed info:\n   GET https://crates.io/api/v1/crates/{name}\n   Parse max_version, max_stable_version fields\n\n3. Implement batch fetching with rate limiting:\n   - crates.io limits to 1 req/sec unauthenticated\n   - Use tokio semaphore for concurrency control\n   - Add required User-Agent header\n   - Cache results within session\n\n4. Handle yanked versions (prefer max_stable_version)\n5. Support pre-release version filtering\n\nReference TS: Uses 'npm view' commands, we use crates.io index/API\n\nAcceptance: Can fetch latest versions for multiple crates efficiently","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:06:45.441064-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:06:45.441064-06:00"}
{"id":"upkeep-rs-4aq","title":"Implement audit command - RustSec security vulnerability scanning","description":"Create src/cli/commands/audit.rs using the rustsec crate:\n\n1. Use rustsec crate directly (not shelling out):\n   let db = Database::fetch()?;\n   let lockfile = Lockfile::load('Cargo.lock')?;\n   let vulnerabilities = db.query_vulnerabilities(\u0026lockfile);\n\n2. Map vulnerabilities to structured format:\n   VulnerabilityInfo {\n     id: String,           // RUSTSEC-2023-XXXX\n     package: String,\n     severity: Severity,\n     title: String,\n     description: String,\n     url: String,\n     patched_versions: Vec\u003cString\u003e,\n     unaffected_versions: Vec\u003cString\u003e,\n   }\n\n3. Determine severity from CVSS score or advisory field\n4. Build dependency path showing transitive deps\n5. Provide fix recommendations:\n   - If patched version exists: 'Upgrade to X.Y.Z'\n   - If no patch: Suggest alternatives\n\n6. Return AuditOutput with summary counts by severity\n\nReference TS: src/cli/commands/audit.ts, src/lib/analyzers/audit.ts\n\nAcceptance: cargo run -- audit scans Cargo.lock and reports vulnerabilities","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:06:51.367019-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:06:51.367019-06:00"}
{"id":"upkeep-rs-5gp","title":"Initialize Rust project with Cargo workspace structure","description":"Create the initial cargo-upkeep project structure:\n\n1. Initialize a new Rust binary crate with cargo init --name cargo-upkeep\n2. Set up Cargo.toml with dependencies:\n   - clap = \"4.0\" (with derive feature)\n   - serde = { version = \"1.0\", features = [\"derive\"] }\n   - serde_json = \"1.0\"\n   - toml = \"0.8\"\n   - cargo_metadata = \"0.18\"\n   - rustsec = \"0.29\"\n   - crates-index = \"2.0\"\n   - tracing/tracing-subscriber for logging\n   - thiserror/anyhow for errors\n   - tokio for async runtime\n   - reqwest for HTTP\n   - semver = \"1.0\"\n\n3. Create directory structure per spec:\n   src/\n   ├── main.rs\n   ├── cli/\n   │   ├── mod.rs\n   │   └── commands/\n   └── lib/\n       ├── mod.rs\n       ├── analyzers/\n       ├── scorers/\n       └── output.rs\n\n4. Configure Cargo.toml metadata: edition 2021, license MIT, rust-version 1.70\n5. Create .gitignore\n\nAcceptance: cargo build succeeds with basic main.rs placeholder","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:05:33.413803-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:05:33.413803-06:00"}
{"id":"upkeep-rs-7o8","title":"Add unit tests for core modules","description":"Create comprehensive unit tests for all core modules:\n\n1. Tests for semver utilities:\n   - Test version parsing\n   - Test update type classification (major/minor/patch)\n   - Test version comparison\n   - Test pre-release version handling\n\n2. Tests for output serialization:\n   - Test all output types serialize correctly\n   - Test error output format\n   - Test enum serialization (Grade, Severity, UpdateType)\n\n3. Tests for quality scoring:\n   - Test individual metric calculations\n   - Test weighted score aggregation\n   - Test grade boundaries (A/B/C/D/F thresholds)\n   - Test recommendation generation\n\n4. Tests for analyzers:\n   - Mock cargo metadata responses\n   - Test parsing of various Cargo.toml formats\n   - Test workspace detection\n   - Test CI config detection\n\n5. Test fixtures:\n   - Create test Cargo.toml files in tests/fixtures/\n   - Create mock crates.io responses\n   - Create mock clippy output\n\nReference TS: Tests throughout src/ with .internals and .parsers exports\n\nAcceptance: cargo test passes with \u003e80% coverage on core logic","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:53.834936-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:53.834936-06:00"}
{"id":"upkeep-rs-98g","title":"Prepare for crates.io publishing","description":"Prepare the crate for publishing to crates.io:\n\n1. Verify Cargo.toml metadata:\n   [package]\n   name = 'cargo-upkeep'\n   version = '0.1.0'\n   edition = '2021'\n   authors = ['...']\n   description = 'Unified Rust project maintenance CLI'\n   license = 'MIT'\n   repository = 'https://github.com/llbbl/cargo-upkeep'\n   homepage = '...'\n   documentation = 'https://docs.rs/cargo-upkeep'\n   readme = 'README.md'\n   keywords = ['cargo', 'maintenance', 'security', 'audit']\n   categories = ['development-tools::cargo-plugins', 'command-line-utilities']\n   rust-version = '1.70'\n\n2. Add license file (LICENSE-MIT)\n\n3. Verify package contents: cargo package --list\n\n4. Run cargo publish --dry-run\n\n5. Add binstall metadata:\n   [package.metadata.binstall]\n   pkg-url = '{ repo }/releases/download/v{ version }/cargo-upkeep-{ target }'\n\n6. Set up crates.io API token in GitHub secrets\n\n7. Create CHANGELOG.md with initial release notes\n\nAcceptance: cargo publish --dry-run succeeds without errors","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:54.600993-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:54.600993-06:00"}
{"id":"upkeep-rs-9az","title":"Implement unused deps command - detect unused dependencies","description":"Create src/cli/commands/unused.rs for unused dependency detection (Phase 2):\n\n1. Approach options:\n   - Option A: Shell out to cargo-machete (simpler, external dep)\n   - Option B: Reimplement cargo-machete logic (more control)\n   - Option C: Use cargo-udeps (requires nightly)\n\n2. For MVP (Option A):\n   cargo machete\n   Parse output for unused crates\n\n3. For long-term (Option B):\n   - Parse Cargo.toml for declared dependencies\n   - Scan all .rs files for use crate_name:: and extern crate\n   - Compare declared vs used\n   - Handle renamed imports\n\n4. Output structure:\n   UnusedOutput {\n     unused: Vec\u003cUnusedDep\u003e,\n     possibly_unused: Vec\u003cString\u003e,  // Could be used via macros\n   }\n   UnusedDep { name, dep_type, confidence }\n\n5. Handle edge cases:\n   - Proc macro crates\n   - Build script dependencies\n   - Feature-gated dependencies\n\nAcceptance: cargo run -- unused detects unused dependencies","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:07:35.513189-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:07:35.513189-06:00"}
{"id":"upkeep-rs-bbo","title":"Create install.sh script for binary distribution","description":"Create scripts/install.sh for easy installation:\n\n1. Platform detection:\n   OS=$(uname -s | tr '[:upper:]' '[:lower:]')\n   ARCH=$(uname -m)\n   Map to: x86_64-unknown-linux-gnu, aarch64-apple-darwin, etc.\n\n2. Download binary from GitHub releases:\n   PLATFORM=$(detect_platform)\n   VERSION=${VERSION:-latest}\n   URL='https://github.com/llbbl/cargo-upkeep/releases/${VERSION}/download/cargo-upkeep-${PLATFORM}'\n   curl -fsSL '$URL' -o cargo-upkeep\n   chmod +x cargo-upkeep\n\n3. Install to appropriate location:\n   - Check for ~/.cargo/bin (preferred for Rust tools)\n   - Fallback to /usr/local/bin\n   - Support INSTALL_DIR environment variable\n\n4. Verify installation:\n   cargo-upkeep --version\n\n5. Error handling with helpful messages\n6. Support --help flag for usage info\n\nReference TS: Similar pattern to bun/node install scripts\n\nAcceptance: curl -fsSL .../install.sh | bash installs working binary","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:12.681585-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:12.681585-06:00"}
{"id":"upkeep-rs-bnn","title":"Create upkeep-audit Claude Code skill","description":"Create skills/upkeep-audit/SKILL.md for security scanning:\n\n1. Skill metadata:\n   # /upkeep-audit - Rust Security Scanner\n   Trigger: User asks about security vulnerabilities or wants to audit\n\n2. Workflow:\n   - Run cargo upkeep audit to scan for vulnerabilities\n   - For each vulnerability:\n     - Explain the issue in plain terms\n     - Check if patched version available\n     - Guide through fix:\n       - If patch exists: Update to patched version\n       - If no patch: Suggest alternatives\n       - Run tests to verify fix\n\n3. Severity handling:\n   - Critical: Immediate action required\n   - High: Should fix soon\n   - Moderate: Plan to fix\n   - Low: Informational\n\n4. Provide links to RustSec advisories\n\n5. Git workflow:\n   - Create security fix branch\n   - Commit with security fix message\n   - Create PR with vulnerability details\n\nReference TS: skills/upkeep-audit/ in upkeep repo\n\nAcceptance: Skill file complete with vulnerability handling workflow","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:31.084722-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:31.084722-06:00"}
{"id":"upkeep-rs-dq7","title":"Implement deps command - outdated dependency analysis with semver","description":"Create src/cli/commands/deps.rs for dependency analysis:\n\n1. Parse Cargo.toml and Cargo.lock using cargo_metadata\n\n2. For each dependency determine:\n   - Current version (from Cargo.lock resolved)\n   - Required version range (from Cargo.toml)\n   - Latest version (from crates.io)\n\n3. Classify updates using semver crate:\n   fn classify_update(current: \u0026Version, latest: \u0026Version) -\u003e UpdateType\n\n4. Separate dependencies by type:\n   - Normal dependencies\n   - Dev dependencies\n   - Build dependencies\n\n5. Build DepsOutput:\n   { total, outdated, major, minor, patch, packages: Vec\u003cOutdatedPackage\u003e }\n\n6. Add --security flag to include audit results in parallel\n\nReference TS: src/cli/commands/deps.ts, src/lib/analyzers/deps.ts\n\nAcceptance: cargo run -- deps outputs JSON with outdated dependencies","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:06:49.092381-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:06:49.092381-06:00"}
{"id":"upkeep-rs-e6m","title":"Implement clippy analyzer for warning/error counting","description":"Create src/lib/analyzers/clippy.rs to run and parse clippy output:\n\n1. Execute clippy with JSON message format:\n   cargo clippy --message-format=json --all-targets --all-features\n\n2. Parse JSON output (one JSON object per line):\n   CargoMessage { reason, message: Option\u003cDiagnosticMessage\u003e }\n   DiagnosticMessage { level, code, message, spans }\n\n3. Count warnings and errors by category:\n   ClippyOutput {\n     warnings: usize,\n     errors: usize,\n     warnings_by_lint: HashMap\u003cString, usize\u003e,\n     details: Vec\u003cClippyIssue\u003e,\n   }\n\n4. Extract lint names from diagnostic codes (e.g., 'clippy::unwrap_used')\n5. Calculate score: max(0, 100 - (warnings * 2) - (errors * 10))\n6. Handle case where clippy not installed\n\nReference TS: No direct equivalent, this is Rust-specific\n\nAcceptance: Clippy analyzer accurately counts warnings/errors and calculates score","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:07:14.973906-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:07:14.973906-06:00"}
{"id":"upkeep-rs-eb9","title":"Implement tree command - enhanced dependency tree visualization","description":"Create src/cli/commands/tree.rs for dependency visualization:\n\n1. Use cargo_metadata to build dependency graph:\n   let metadata = MetadataCommand::new().features(AllFeatures).exec()?;\n   let resolve = metadata.resolve.unwrap();\n\n2. Build tree structure:\n   DepNode {\n     name: String,\n     version: String,\n     features: Vec\u003cString\u003e,\n     children: Vec\u003cDepNode\u003e,\n     is_dev: bool,\n     is_build: bool,\n   }\n\n3. Enhancements beyond cargo-tree:\n   - Highlight outdated dependencies\n   - Show security vulnerabilities inline\n   - Display feature flags used\n   - Mark duplicate versions\n\n4. Support flags:\n   --depth \u003cn\u003e: Limit tree depth\n   --duplicates: Only show crates with multiple versions\n   --invert \u003ccrate\u003e: Show reverse dependencies\n   --features: Show feature flags\n   --no-dev: Exclude dev dependencies\n\n5. JSON output:\n   TreeOutput { root: DepNode, stats: TreeStats }\n   TreeStats { total_crates, direct_deps, transitive_deps, duplicate_crates }\n\nAcceptance: cargo run -- tree displays dependency tree with annotations","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:07:35.263252-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:07:35.263252-06:00"}
{"id":"upkeep-rs-ed0","title":"Create upkeep-quality Claude Code skill","description":"Create skills/upkeep-quality/SKILL.md for health reporting:\n\n1. Skill metadata:\n   # /upkeep-quality - Rust Project Health Report\n   Trigger: User asks about project health or quality assessment\n\n2. Workflow:\n   - Run cargo upkeep quality to get health report\n   - Present grade (A-F) with breakdown\n   - For each low-scoring metric, suggest improvements:\n     - Dependencies: Run /upkeep-deps\n     - Security: Run /upkeep-audit\n     - Clippy: Fix warnings\n     - MSRV: Add rust-version to Cargo.toml\n     - Unused deps: Remove with cargo-machete\n     - Unsafe code: Audit and document\n\n3. Track progress:\n   - Compare with previous runs if available\n   - Celebrate improvements\n   - Identify regressions\n\n4. Prioritized recommendations:\n   - High: Security, critical updates\n   - Medium: Code quality, test coverage\n   - Low: Style, documentation\n\n5. Generate action plan for improving score\n\nReference TS: skills/upkeep-quality/ in upkeep repo\n\nAcceptance: Skill file complete with improvement guidance workflow","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:31.330791-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:31.330791-06:00"}
{"id":"upkeep-rs-fja","title":"Add integration tests with real Cargo projects","description":"Create integration tests that run against real Cargo projects:\n\n1. Create test fixtures:\n   tests/fixtures/\n   ├── simple-project/\n   │   ├── Cargo.toml\n   │   ├── Cargo.lock\n   │   └── src/main.rs\n   ├── workspace-project/\n   │   ├── Cargo.toml\n   │   ├── member-a/\n   │   └── member-b/\n   └── vulnerable-project/\n       ├── Cargo.toml (with old deps)\n       └── Cargo.lock\n\n2. Integration tests for each command:\n   - Test detect with simple/workspace/library projects\n   - Test deps output format\n   - Test audit with known vulnerable deps\n   - Test quality score calculation\n   - Test tree output\n\n3. Test scenarios:\n   - Simple binary project\n   - Library project\n   - Workspace with multiple members\n   - Project with outdated dependencies\n   - Project with known vulnerabilities\n   - Project with clippy warnings\n\n4. Test JSON output validity\n5. Test error cases (non-Cargo dir, malformed Cargo.toml)\n\nAcceptance: Integration tests validate end-to-end command behavior","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:54.092523-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:54.092523-06:00"}
{"id":"upkeep-rs-fmk","title":"Implement JSON output module with structured types","description":"Create src/lib/output.rs for consistent JSON output:\n\n1. Define serializable output types for each command:\n   - DetectOutput { edition, msrv, workspace, members, ... }\n   - DepsOutput { total, outdated, major, minor, patch, packages }\n   - AuditOutput { vulnerabilities, summary }\n   - QualityOutput { score, grade, breakdown, recommendations }\n\n2. Create helper functions:\n   - print_json\u003cT: Serialize\u003e(output: \u0026T) for stdout\n   - print_error(error: \u0026UpkeepError) for structured errors\n\n3. Define common types:\n   - OutdatedPackage { name, current, latest, update_type }\n   - Vulnerability { package, severity, title, path, fix_available }\n   - Severity enum (critical, high, moderate, low)\n   - UpdateType enum (major, minor, patch)\n   - Grade enum (A, B, C, D, F)\n\n4. Implement Display trait for human-readable output\n\nReference TS: All command output types in src/cli/commands/*.ts\n\nAcceptance: All types compile and serialize correctly to JSON","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:06:15.217315-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:06:15.217315-06:00"}
{"id":"upkeep-rs-hbx","title":"Implement quality command with parallel analyzer execution","description":"Create src/cli/commands/quality.rs that orchestrates all analyzers:\n\n1. Run all analyzers in parallel using tokio::join!:\n   let (deps, audit, clippy, msrv) = tokio::join!(\n     analyze_deps(path),\n     analyze_audit(path),\n     analyze_clippy(path),\n     check_msrv(path),\n   );\n\n2. Collect metrics from each analyzer:\n   QualityMetrics {\n     dependency_freshness: MetricResult,\n     security: MetricResult,\n     unused_deps: MetricResult,\n     unsafe_code: MetricResult,\n     clippy: MetricResult,\n     msrv: MetricResult,\n   }\n\n3. Pass metrics to quality scorer\n4. Build QualityOutput:\n   { score: u8, grade: Grade, breakdown: HashMap, recommendations: Vec }\n\n5. Generate recommendations with priority:\n   - High: Security issues, critical outdated deps\n   - Medium: Minor updates, coverage gaps\n   - Low: MSRV, clippy suggestions\n\n6. Handle partial failures gracefully\n\nReference TS: src/cli/commands/quality.ts\n\nAcceptance: cargo run -- quality produces health report with grade","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:07:17.877611-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:07:17.877611-06:00"}
{"id":"upkeep-rs-i3y","title":"Implement unsafe code command - unsafe usage reporting","description":"Create src/cli/commands/unsafe_code.rs for unsafe analysis (Phase 2):\n\n1. Approach options:\n   - Option A: Shell out to cargo-geiger (feature-rich)\n   - Option B: Basic AST scanning with syn crate\n   - Option C: Use rustc MIR analysis\n\n2. For MVP (Option A):\n   cargo geiger --output-format json\n   Parse for unsafe counts\n\n3. For custom implementation:\n   struct UnsafeCounter {\n     unsafe_blocks: usize,\n     unsafe_fns: usize,\n     unsafe_traits: usize,\n     unsafe_impls: usize,\n   }\n\n4. Output structure:\n   UnsafeOutput {\n     summary: UnsafeSummary,\n     by_crate: Vec\u003cCrateUnsafe\u003e,\n     your_code: UnsafeStats,\n     dependencies: UnsafeStats,\n   }\n\n5. Distinguish between:\n   - Unsafe in your code (controllable)\n   - Unsafe in dependencies (informational)\n   - Required unsafe (FFI, etc.)\n\n6. Calculate safety score based on ratio\n\nAcceptance: cargo run -- unsafe reports unsafe code usage","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:07:35.758687-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:07:35.758687-06:00"}
{"id":"upkeep-rs-phw","title":"Add comprehensive error handling with thiserror","description":"Create src/lib/error.rs for robust error handling:\n\n1. Define custom error types using thiserror:\n   #[derive(Error, Debug)]\n   pub enum UpkeepError {\n     #[error('Failed to parse Cargo.toml: {0}')]\n     CargoTomlParse(#[from] toml::de::Error),\n     \n     #[error('Crate not found on crates.io: {0}')]\n     CrateNotFound(String),\n     \n     #[error('Failed to fetch from crates.io: {0}')]\n     CratesIoFetch(#[from] reqwest::Error),\n     \n     #[error('RustSec database error: {0}')]\n     RustSecError(String),\n     \n     #[error('Clippy not installed')]\n     ClippyNotInstalled,\n     \n     #[error('Not a Cargo project')]\n     NotCargoProject,\n     \n     #[error('External tool error: {tool} - {message}')]\n     ExternalToolError { tool: String, message: String },\n   }\n\n2. Create Result type alias: pub type Result\u003cT\u003e = std::result::Result\u003cT, UpkeepError\u003e;\n\n3. Implement JSON serialization for errors:\n   ErrorOutput { error: String, error_type: String, suggestion: Option\u003cString\u003e }\n\n4. Add context helpers using anyhow for internal errors\n5. Graceful degradation: Continue when one analyzer fails\n\nAcceptance: All commands handle errors gracefully with JSON error output","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:07:54.98335-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:07:54.98335-06:00"}
{"id":"upkeep-rs-s4p","title":"Create upkeep-deps Claude Code skill","description":"Create skills/upkeep-deps/SKILL.md for Claude Code integration:\n\n1. Skill metadata:\n   # /upkeep-deps - Rust Dependency Updater\n   Trigger: User asks to update dependencies or check outdated crates\n\n2. Workflow:\n   - Run cargo upkeep deps to get outdated list\n   - Assess risk based on semver (major vs minor vs patch)\n   - For each update:\n     - Create feature branch\n     - Update version in Cargo.toml\n     - Run cargo build to check compilation\n     - Run cargo test to verify functionality\n     - If success: commit changes\n     - If failure: rollback and report issue\n\n3. Safety rules:\n   - Never update multiple major versions at once\n   - Always run tests before committing\n   - Create separate commits per dependency\n   - Warn about breaking changes\n\n4. Git workflow (per spec):\n   - Work in branches\n   - Create PRs via gh\n   - No Claude attribution\n\nReference TS: skills/upkeep-deps/ in upkeep repo\n\nAcceptance: Skill file complete with full workflow and examples","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:08:30.833436-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:08:30.833436-06:00"}
{"id":"upkeep-rs-trt","title":"Implement CLI framework with clap derive macros","description":"Create the CLI interface using clap 4.x with derive macros:\n\n1. Define main CLI struct in src/cli/mod.rs:\n   - Global flags: --verbose, --log-level, --json\n   - Subcommands: detect, deps, audit, quality, unused, unsafe-code, tree\n\n2. Handle cargo upkeep invocation (cargo passes 'upkeep' as first arg)\n3. Support both 'cargo upkeep deps' and 'cargo-upkeep deps' styles\n4. Set up tracing subscriber based on verbosity flags\n5. Wire up main.rs to parse args and dispatch to command handlers\n\nReference TS: src/cli/index.ts for argument parsing patterns\n\nAcceptance: cargo run -- --help shows all commands and global options","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-04T07:06:06.776298-06:00","created_by":"loganlindquist","updated_at":"2026-02-04T07:06:06.776298-06:00"}
